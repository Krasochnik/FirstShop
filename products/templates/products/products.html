{% extends "shop/base.html" %}
{% load static %}
{% load products_tags %}

{% block css %}
	
{% endblock  %}

{% block content %}	

<div class="shops-outer">
	<div class="auto-container">
	<div class="row clearfix">
		<!-- Filter Box -->
		<div class="filter-box">
			<div class="d-flex justify-content-between align-items-center flex-wrap">
				<!-- Left Box -->
				<div class="left-box d-flex align-items-center">
					<div class="results">Showing {{products.start_index}}-{{products.end_index}} of {{products.paginator.count}} results</div>
				</div>
				<!-- Right Box -->
				<div class="right-box d-flex">
					<div class="form-group">
						<select name="currency" class="custom-select-box" value="default">
							<option href="">Recently Added</option>
							<option>Added 01</option>
							<option>Added 02</option>
							<option>Added 03</option>
							<option>Added 04</option>
						</select>
					</div>
					<ul class="pages-list">
						<li><a class="flaticon-list" href="#"></a></li>
						<li><a class="flaticon-menu-2" href="#"></a></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- End Filter Box -->
						{% for i in products %}

						<div class="shop-item col-lg-4 col-md-4 col-sm-12">
							<div class="inner-box">
								<div class="image">
									<a href="{% url "products:product_detail" i.slug %}"><img  src={% if not i.image %} {% static 'images/No picture.jpg'%} 
										{% else %} {{i.image}} {% endif %}alt="" /></a>
									<div class="options-box">
										<ul class="option-list">
											<li><a class="flaticon-resize" href="shop-detail.html"></a></li>
											<li><a class="flaticon-heart" href="shop-detail.html"></a></li>
											<li><a class="flaticon-shopping-cart-2" href="shop-detail.html"></a></li>
										</ul>
									</div>
								</div>
								<div class="lower-content">
									<div class="rating">
										<span class="fa fa-star"></span>
										<span class="fa fa-star"></span>
										<span class="fa fa-star"></span>
										<span class="fa fa-star"></span>
										<span class="light fa fa-star"></span>
									</div>
									<h6><a href="shop-detail.html">{{i.name}}</a></h6>
									<div class="d-flex justify-content-between align-items-center">
										<div class="price">
											{% if i.discount != 0 %}
											<span>{{i.price}}</span>
											{% endif %}

											{{i.sale_price}}</div>
										<!-- Quantity Box -->
										<div class="quantity-box">
											<div class="item-quantity">
												<input class="qty-spinner" type="text" value="1" name="quantity">
											</div>
											<div class="button-box">
												<a href="shop.html" class="theme-btn btn-style-one">
													Add to cart
												</a>
											</div>
										</div>

										

									</div>
								</div>
							</div>
						</div>
					
					{% endfor %}
				</div>
			</div>
	</div>
	<!-- Styled Pagination -->
	{% if products %}
	<ul class="styled-pagination text-center">
		<li class="next"{% if not products.previous %}disabled{% endif %}>
			<a href="{% if products.has_previous %}?{% change_params page=products.previous_page_number %}{% else %}#{% endif %}">
				<span class="fa fa-angle-double-left"></span></a></li>
		{% for page in products.paginator.page_range %}
        {% if page >= products.number|add:-2 and page <= products.number|add:2 %}   
				
		<li><a href="?{% change_params page=page %}" {% if products.number == page %} class="active" {% endif %}>{{page}}</a></li>

		{% endif %}
		{% endfor %}

		<li class="next" {% if not products.has_next %}disabled{% endif %}>
			<a href="{% if products.has_next %}?{% change_params page=products.next_page_number %}{% else %}#{% endif %}">
				<span class="fa fa-angle-double-right"></span></a></li>
	</ul>
	{% endif %}
	<!-- End Styled Pagination -->

{% endblock%}